<script>
const API_KEY = "goldapi-hs19mkgllgry-io";  // yeh tera key hai, agar galat to sahi daal dena

async function loadGoldPrice() {
  try {
    const res = await fetch("https://www.goldapi.io/api/XAU/USD", {
      headers: {
        "access_token": API_KEY
      }
    });

    const data = await res.json();

    let ounceUSD = data.price;

    // TUMHARA FORMULA (24K) bilkul same rakha
    let gold24 = (ounceUSD * 1.4485 + 20) / 116.64;

    // Jewellery karat prices
    let gold22 = gold24 * 0.920;
    let gold21 = gold24 * 0.879;
    let gold18 = gold24 * 0.754;

    document.getElementById("g22").innerText = gold22.toFixed(2) + " OMR";
    document.getElementById("g21").innerText = gold21.toFixed(2) + " OMR";
    document.getElementById("g18").innerText = gold18.toFixed(2) + " OMR";

    document.getElementById("time").innerText = "Last updated: " + new Date().toLocaleString();

  } catch (err) {
    console.log(err);
    document.getElementById("time").innerText = "Price load error";
  }
}

loadGoldPrice();
setInterval(loadGoldPrice, 60000);
</script>

    

</body>
</html>
